<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Dev Preview</title>
    <link rel="stylesheet"  href="$assets/slds/styles/salesforce-lightning-design-system.min.css">
    <link
            rel="icon"
            href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjI4MzEgNy4zOTk0QzEzLjg5MjUgNi43Njk3MyAxNC42NDQ1IDYuMjkwNiAxNS40Nzc5IDYuMDAxMDRDMTYuMzExMiA1LjcxMTQ5IDE3LjIwMjIgNS42MTk3IDE4LjA3ODQgNS43MzMxM0MxOC45NTQ2IDUuODQ2NTcgMTkuNzkxMiA2LjE2MjAzIDIwLjUyIDYuNjUzODNDMjEuMjQ4OSA3LjE0NTYzIDIxLjg0OTMgNy43OTk4NSAyMi4yNzI1IDguNTYzMjJDMjMuMTQ4MSA4LjE3OTUxIDI0LjA5NiA3Ljk4MTI1IDI1LjA1NDUgNy45ODEzMUMyNi44OTY2IDcuOTgxMzEgMjguNjYzMiA4LjcwMTMyIDI5Ljk2NTggOS45ODI5M0MzMS4yNjgzIDExLjI2NDUgMzIgMTMuMDAyOCAzMiAxNC44MTUzQzMyIDE2LjYyNzcgMzEuMjY4MyAxOC4zNjYgMjkuOTY1OCAxOS42NDc2QzI4LjY2MzIgMjAuOTI5MiAyNi44OTY2IDIxLjY0OTIgMjUuMDU0NSAyMS42NDkyQzI0LjYgMjEuNjQ5NSAyNC4xNDY2IDIxLjYwNDMgMjMuNzAxNCAyMS41MTQyQzIzLjI2NDggMjIuMjg0IDIyLjYyNzIgMjIuOTI1IDIxLjg1NDQgMjMuMzcxQzIxLjA4MTcgMjMuODE3MSAyMC4yMDE5IDI0LjA1MTkgMTkuMzA2IDI0LjA1MTNDMTguNTQzNSAyNC4wNTM4IDE3Ljc5MDYgMjMuODgzMyAxNy4xMDU5IDIzLjU1MzJDMTYuNjU3MiAyNC41OTY3IDE1Ljg5OTkgMjUuNDgzMyAxNC45MzI0IDI2LjA5NzdDMTMuOTY0OCAyNi43MTIxIDEyLjgzMTggMjcuMDI1OSAxMS42ODA1IDI2Ljk5ODNDMTAuNTI5MyAyNi45NzA3IDkuNDEzMTQgMjYuNjAzIDguNDc3MTQgMjUuOTQyOUM3LjU0MTE1IDI1LjI4MjggNi44Mjg2IDI0LjM2MSA2LjQzMjE2IDIzLjI5NzJDNi4wNzEyNSAyMy4zNzIxIDUuNzAzMzIgMjMuNDA5NSA1LjMzNDQ2IDIzLjQwODlDNC4xNTQ4NSAyMy4zOTYyIDMuMDEyMDUgMjMuMDAzMyAyLjA4MTA3IDIyLjI5MDRDMS4xNTAwOSAyMS41Nzc1IDAuNDgyMzE5IDIwLjU4MzkgMC4xODAwNjMgMTkuNDYyQy0wLjEyMjE5NCAxOC4zNCAtMC4wNDIzMDg3IDE3LjE1MTQgMC40MDc1NTkgMTYuMDc4NEMwLjg1NzQyOCAxNS4wMDU0IDEuNjUyNDIgMTQuMTA3MSAyLjY3MDc1IDEzLjUyMTFDMi4zMzIyOSAxMi43NTU5IDIuMTU4MzQgMTEuOTMwMiAyLjE1OTc5IDExLjA5NTdDMi4xNjEzNiA5LjgxOTg4IDIuNTY5MjMgOC41NzY2MSAzLjMyNjA5IDcuNTQwNjlDNC4wODI5NSA2LjUwNDc3IDUuMTUwNzIgNS43MjgyNyA2LjM3OTMxIDUuMzIwMzVDNy42MDc5IDQuOTEyNDQgOC45MzU1MiA0Ljg5MzYyIDEwLjE3NTUgNS4yNjY1NEMxMS40MTU2IDUuNjM5NDYgMTIuNTA1NiA2LjM4NTM2IDEzLjI5MjUgNy4zOTk0SDEzLjI4MzFaIiBmaWxsPSIjMEQ5RERBIi8+Cjwvc3ZnPgo="
    />
    <script type="module" crossorigin>
        (function () {
            const relList = document.createElement("link").relList;
            if (
                !(relList && relList.supports && relList.supports("modulepreload"))
            ) {
                for (const link of document.querySelectorAll(
                    'link[rel="modulepreload"]',
                ))
                    processPreload(link);
                new MutationObserver((mutations) => {
                    for (const mutation of mutations)
                        if ("childList" === mutation.type)
                            for (const node of mutation.addedNodes)
                                "LINK" === node.tagName &&
                                "modulepreload" === node.rel &&
                                processPreload(node);
                }).observe(document, { childList: true, subtree: true });
            }
            function processPreload(link) {
                if (link.ep) return;
                link.ep = true;
                const fetchOpts = (function (link2) {
                    const fetchOpts2 = {};
                    return (
                        link2.integrity && (fetchOpts2.integrity = link2.integrity),
                        link2.referrerPolicy &&
                        (fetchOpts2.referrerPolicy = link2.referrerPolicy),
                            "use-credentials" === link2.crossOrigin
                                ? (fetchOpts2.credentials = "include")
                                : "anonymous" === link2.crossOrigin
                                    ? (fetchOpts2.credentials = "omit")
                                    : (fetchOpts2.credentials = "same-origin"),
                            fetchOpts2
                    );
                })(link);
                fetch(link.href, fetchOpts);
            }
        })();
       const data = {
            components: [] // Will be populated from menu API response
        };

        // Fetch menu items from API and initialize app
        fetch('/api/menuItems')
            .then(response => response.json())
            .then(result => {
                data.components = result.items.map(item => ({
                    name: item.name,
                    type: 'Component',
                    description: item.description,
                    href: item.href,
                    label: item.label
                }));
                // Initialize app after data is loaded
                new (class {
                    constructor(data2) {
                        const parsedData =
                            "string" == typeof data2 ? JSON.parse(data2) : data2;
                        (this.model = new Model(parsedData)),
                            (this.view = new View(this.model)),
                            this.eventListeners();
                        const components = this.model.getComponent();
                        this.view.renderPanelContent(components),
                            this.ensureFullscreenMode(),
                            this.view.updateViewport(),
                            this.initHandleDrag(),
                            this.initHandleVisibility();
                    }
                    ensureFullscreenMode() {
                        try {
                            localStorage.removeItem("viewportState"),
                                sessionStorage.removeItem("viewportState");
                            for (const key of Object.keys(localStorage))
                                (key.includes("viewport") || key.includes("screen")) &&
                                localStorage.removeItem(key);
                            for (const key of Object.keys(sessionStorage))
                                (key.includes("viewport") || key.includes("screen")) &&
                                sessionStorage.removeItem(key);
                        } catch (e) {
                            console.log("Storage access error:", e);
                        }
                        this.view.content.classList.remove("active"),
                            (this.view.content.style.width = "100%"),
                            (this.view.content.style.minHeight = "calc(100vh - 61px)"),
                            (this.view.content.style.height = "calc(100vh - 61px)"),
                            this.view.content.removeAttribute("data-viewport"),
                            Object.keys(this.view.viewportSizes).forEach((key) => {
                                this.view[key].classList.remove("active");
                            }),
                            document
                                .querySelectorAll(".handle-left, .handle-right, .handle-bottom")
                                .forEach((handle) => {
                                    handle.classList.remove("active", "handle-near-edge");
                                }),
                            this.view.content.classList.remove("edge-detected");
                    }
                    handleShortcuts(event) {
                        const action = {
                            Escape: () => {
                                document
                                    .querySelector(".overlay")
                                    .classList.contains("visible") &&
                                (this.view.searchInput.value &&
                                document.activeElement === this.view.searchInput
                                    ? ((this.view.searchInput.value = ""),
                                        this.view.filterComponents(""),
                                        event.preventDefault())
                                    : this.view.togglePanel());
                            },
                            k: () => {
                                if (event.metaKey || event.ctrlKey) {
                                    event.preventDefault();
                                    document
                                        .querySelector(".overlay")
                                        .classList.contains("visible") ||
                                    (this.view.togglePanel(),
                                        setTimeout(() => {
                                            this.view.searchInput && this.view.searchInput.focus();
                                        }, 350));
                                }
                            },
                        }[event.key];
                        action && action();
                    }
                    eventListeners() {
                        this.view.menu.addEventListener("click", (event) => {
                            event.preventDefault(), this.view.togglePanel();
                        }),
                            document
                                .querySelector(".lwr-preview .overlay")
                                .addEventListener("click", (event) => {
                                    event.target === event.currentTarget && this.view.togglePanel();
                                }),
                            this.view.panelClose.addEventListener("click", (event) => {
                                event.preventDefault(), this.view.togglePanel();
                            }),
                            this.view.searchInput.addEventListener("input", (event) => {
                                const query = event.target.value.trim();
                                this.view.filterComponents(query);
                            }),
                            this.view.searchInput.addEventListener("keydown", (event) => {
                                ["ArrowDown", "ArrowUp", "Enter"].includes(event.key) &&
                                this.view.handleKeyNavigation(event);
                            }),
                            this.view.panelContent.addEventListener("keydown", (event) => {
                                this.view.handleKeyNavigation(event);
                            }),
                            this.view.panelContent.addEventListener("click", (event) => {
                                const componentItem = event.target.closest(".panel-item");
                                if (componentItem) {
                                    const componentName = componentItem.dataset.componentName,
                                        component = this.model.getComponentByName(componentName);
                                    if (component && component.href) {
                                        window.location.href = component.href;
                                    }
                                }
                            }),
                            document.addEventListener("click", (event) => {
                                event.target.closest(".canvas-link") &&
                                (event.preventDefault(), this.view.togglePanel());
                            }),
                            document.addEventListener("keydown", (event) =>
                                this.handleShortcuts(event),
                            ),
                            Object.entries(this.view.viewportSizes).forEach(
                                ([viewport, config]) => {
                                    const element = this.view[viewport];
                                    element.addEventListener("click", (event) => {
                                        event.preventDefault(),
                                            element.classList.contains("active")
                                                ? (this.view.content.classList.remove("active"),
                                                    (this.view.content.style.width = "100%"),
                                                    (this.view.content.style.minHeight =
                                                        "calc(100vh - 61px)"),
                                                    (this.view.content.style.height = "calc(100vh - 61px)"),
                                                    this.view.content.removeAttribute("data-viewport"),
                                                    Object.keys(this.view.viewportSizes).forEach((key) => {
                                                        this.view[key].classList.remove("active");
                                                    }))
                                                : (this.view.content.classList.add("active"),
                                                    (this.view.content.style.width = config.width),
                                                    (this.view.content.style.minHeight = config.height),
                                                    (this.view.content.style.height = config.height),
                                                    this.view.content.setAttribute(
                                                        "data-viewport",
                                                        viewport,
                                                    ),
                                                    Object.keys(this.view.viewportSizes).forEach((key) => {
                                                        this.view[key].classList.toggle(
                                                            "active",
                                                            key === viewport,
                                                        );
                                                    })),
                                        document
                                            .querySelectorAll(
                                                ".lwr-preview .handle-left, .lwr-preview .handle-right, .lwr-preview .handle-bottom",
                                            )
                                            .forEach((handle) => {
                                                handle.classList.remove("active", "handle-near-edge");
                                            }),
                                        this.view.content.classList.remove("edge-detected"),
                                        this.view.updateViewport();
                                    });
                                },
                            ),
                            window.addEventListener("resize", () => {
                                this.view.updateViewport();
                            });
                    }
                    resetViewportToFullscreen() {
                        this.view.content.classList.remove("active"),
                            (this.view.content.style.width = "100%"),
                            (this.view.content.style.minHeight = "calc(100vh - 61px)"),
                            (this.view.content.style.height = "calc(100vh - 61px)"),
                            this.view.content.removeAttribute("data-viewport"),
                            Object.keys(this.view.viewportSizes).forEach((key) => {
                                this.view[key].classList.remove("active");
                            }),
                            this.view.updateViewport();
                    }
                    updateContentActiveState() {
                        "100%" === this.view.content.style.width
                            ? this.view.content.classList.remove("active")
                            : (this.view.content.classList.add("active"),
                            "auto" === this.view.content.style.height &&
                            (this.view.content.style.height =
                                this.view.content.style.minHeight));
                    }
                    initHandleDrag() {
                        const content = this.view.content,
                            handleLeft = document.querySelector(".lwr-preview .handle-left"),
                            handleRight = document.querySelector(".lwr-preview .handle-right"),
                            handleBottom = document.querySelector(".lwr-preview .handle-bottom");
                        let startX,
                            startY,
                            startWidth,
                            startHeight,
                            newWidth,
                            newHeight,
                            rafId = null;
                        const clearViewportPresets = () => {
                                Object.keys(this.view.viewportSizes).forEach((key) => {
                                    this.view[key].classList.remove("active");
                                }),
                                    content.removeAttribute("data-viewport");
                            },
                            initDrag = (e, handle) => {
                                e.preventDefault(),
                                    content.classList.add("active"),
                                    handle.classList.add("active"),
                                    clearViewportPresets(),
                                    (startX = e.clientX),
                                    (startY = e.clientY),
                                    (startWidth = content.offsetWidth),
                                    (startHeight = content.offsetHeight),
                                    (newWidth = startWidth),
                                    (newHeight = startHeight),
                                    "100%" === content.style.width
                                        ? ((content.style.width = startWidth - 40 + "px"),
                                            (content.style.height = startHeight - 40 + "px"),
                                            (content.style.minHeight = "auto"))
                                        : ((content.style.width = `${startWidth}px`),
                                        handle === handleBottom &&
                                        ((content.style.height = `${startHeight}px`),
                                            (content.style.minHeight = "auto")));
                                const checkEdgeProximity = (x, y) => {
                                        const windowWidth = window.innerWidth,
                                            windowHeight = window.innerHeight,
                                            isNearEdge =
                                                x < 50 || x > windowWidth - 50 || y > windowHeight - 50;
                                        return (
                                            handle.classList.toggle("handle-near-edge", isNearEdge),
                                                content.classList.toggle("edge-detected", isNearEdge),
                                                isNearEdge
                                        );
                                    },
                                    dragMove = (e2) => {
                                        checkEdgeProximity(e2.clientX, e2.clientY),
                                            handle === handleLeft
                                                ? (newWidth = Math.max(
                                                    200,
                                                    startWidth - 2 * (e2.clientX - startX),
                                                ))
                                                : handle === handleRight
                                                    ? (newWidth = Math.max(
                                                        200,
                                                        startWidth + 2 * (e2.clientX - startX),
                                                    ))
                                                    : handle === handleBottom &&
                                                    (newHeight = Math.max(
                                                        200,
                                                        startHeight + 2 * (e2.clientY - startY),
                                                    )),
                                        rafId && cancelAnimationFrame(rafId),
                                            (rafId = requestAnimationFrame(() => {
                                                handle === handleLeft || handle === handleRight
                                                    ? ((content.style.width = `${newWidth}px`),
                                                    newWidth !== window.innerWidth &&
                                                    content.classList.add("active"))
                                                    : handle === handleBottom &&
                                                    (content.style.height = `${newHeight}px`),
                                                    this.view.updateViewport();
                                            }));
                                    };
                                document.addEventListener("mousemove", dragMove),
                                    document.addEventListener(
                                        "mouseup",
                                        (e2) => {
                                            document.removeEventListener("mousemove", dragMove),
                                                handle.classList.remove("active"),
                                                handle.classList.remove("handle-near-edge"),
                                                content.classList.remove("edge-detected"),
                                            rafId && (cancelAnimationFrame(rafId), (rafId = null)),
                                            handle === handleBottom &&
                                            ((content.style.minHeight = `${content.offsetHeight}px`),
                                                (content.style.height = `${content.offsetHeight}px`));
                                            checkEdgeProximity(e2.clientX, e2.clientY)
                                                ? this.resetViewportToFullscreen()
                                                : this.updateContentActiveState();
                                        },
                                        { once: true },
                                    );
                            },
                            addDoubleClickHandler = (handle) => {
                                handle.addEventListener("dblclick", (e) => {
                                    e.preventDefault(), this.resetViewportToFullscreen();
                                });
                            };
                        handleLeft.addEventListener("mousedown", (e) =>
                            initDrag(e, handleLeft),
                        ),
                            handleRight.addEventListener("mousedown", (e) =>
                                initDrag(e, handleRight),
                            ),
                            handleBottom.addEventListener("mousedown", (e) =>
                                initDrag(e, handleBottom),
                            ),
                            addDoubleClickHandler(handleLeft),
                            addDoubleClickHandler(handleRight),
                            addDoubleClickHandler(handleBottom);
                    }
                    initHandleVisibility() {
                        const page = document.querySelector(".lwr-preview .page"),
                            handles = document.querySelector(".lwr-preview .handles");
                        (page.onmouseenter = null),
                            (page.onmouseleave = null),
                            page.addEventListener("mouseenter", () => {
                                handles.style.opacity = "1";
                            }),
                            page.addEventListener("mouseleave", () => {
                                (handles.style.opacity = "0"),
                                    document
                                        .querySelectorAll(
                                            ".lwr-preview .handle-left, .lwr-preview .handle-right, .lwr-preview .handle-bottom",
                                        )
                                        .forEach((handle) =>
                                            handle.classList.remove("handle-near-edge"),
                                        ),
                                    document
                                        .querySelector(".lwr-preview .content")
                                        .classList.remove("edge-detected");
                            });
                    }
                })(data);
            })
            .catch(error => {
                console.error('Error fetching menu items:', error);
            });
        class Model {
            constructor(data2) {
                (this.components = data2.components || []),
                    (this.currentComponent = null);
            }
            getComponent() {
                return this.components
                    .map((component) => ({
                        name: component.name,
                        type: component.type,
                        description: component.description,
                    }))
                    .sort((a, b) => a.name.localeCompare(b.name));
            }
            getComponentByName(name) {
                return this.components.find((component) => component.name === name);
            }
        }
        class View {
            constructor(model) {
                (this.model = model),
                    (this.viewport = document.querySelector(".lwr-preview .viewport")),
                    (this.mobile = document.querySelector(".lwr-preview .mobile-link")),
                    (this.tablet = document.querySelector(".lwr-preview .tablet-link")),
                    (this.desktop = document.querySelector(".lwr-preview .desktop-link")),
                    (this.menu = document.querySelector(".lwr-preview .header .menu a")),
                    (this.content = document.querySelector(".lwr-preview .content")),
                    (this.canvas = document.querySelector(".lwr-preview .canvas")),
                    (this.panelTitle = document.querySelector(".lwr-preview .panel-header h3")),
                    (this.panelContent = document.querySelector(".lwr-preview .panel-content")),
                    (this.panelClose = document.querySelector(".lwr-preview .panel-close")),
                    (this.searchInput = document.querySelector(".lwr-preview .panel-filter input")),
                    (this.pickComponent = document.querySelector(".lwr-preview .pick-component")),
                    this.content.classList.remove("active"),
                    (this.content.style.width = "100%"),
                    (this.content.style.minHeight = "calc(100vh - 61px)"),
                    (this.content.style.height = "calc(100vh - 61px)"),
                    (this.viewportSizes = {
                        mobile: { width: "375px", height: "680px", label: "Mobile" },
                        tablet: { width: "768px", height: "1024px", label: "Tablet" },
                        desktop: { width: "1280px", height: "900px", label: "Desktop" },
                    }),
                    (this.allComponents = []),
                    (this.selectedItemIndex = -1),
                    (this.lastWidth = 0),
                    (this.lastHeight = 0),
                    (this.updateViewportTimeout = null);
            }
            togglePanel() {
                const overlay = document.querySelector(".lwr-preview .overlay"),
                    panel = document.querySelector(".lwr-preview .panel");
                overlay.classList.toggle("visible"),
                    panel.classList.toggle("visible"),
                overlay.classList.contains("visible") &&
                setTimeout(() => {
                    this.searchInput.focus(),
                    -1 !== this.selectedItemIndex && this.updateSelectedItem();
                }, 350);
            }
            renderPanelContent(components) {
                (this.allComponents = components),
                    this.renderFilteredComponents(components);
            }
            renderFilteredComponents(components) {
                const componentsList = document.createElement("div");
                componentsList.classList.add("panel-list"),
                    components.forEach((component) => {
                        const componentItem = document.createElement("div");
                        componentItem.classList.add("panel-item"),
                            (componentItem.dataset.componentName = component.name),
                            componentItem.setAttribute("tabindex", "0"),
                            (componentItem.innerHTML = `
        <div class="panel-item-icon component"></div>
        <div class="panel-item-content">
          <h4>${component.name}</h4>
          <p>${component.description || component.type}</p>
        </div>
      `),
                            componentsList.appendChild(componentItem);
                    }),
                    (this.panelContent.innerHTML = ""),
                    this.panelContent.appendChild(componentsList),
                    (this.selectedItemIndex = -1);
            }
            filterComponents(query) {
                if (!query)
                    return void this.renderFilteredComponents(this.allComponents);
                const lowercaseQuery = query.toLowerCase(),
                    filteredComponents = this.allComponents.filter(
                        (component) =>
                            component.name.toLowerCase().includes(lowercaseQuery) ||
                            (component.description &&
                                component.description
                                    .toLowerCase()
                                    .includes(lowercaseQuery)) ||
                            component.type.toLowerCase().includes(lowercaseQuery),
                    );
                this.renderFilteredComponents(filteredComponents);
            }
            selectFirstItem() {
                this.panelContent.querySelectorAll(".panel-item").length > 0 &&
                ((this.selectedItemIndex = 0), this.updateSelectedItem());
            }
            updateSelectedItem() {
                const items = this.panelContent.querySelectorAll(".panel-item");
                if (
                    (items.forEach((item) => {
                        item.classList.remove("selected");
                    }),
                    this.selectedItemIndex >= 0 &&
                    this.selectedItemIndex < items.length)
                ) {
                    const selectedItem = items[this.selectedItemIndex];
                    selectedItem.classList.add("selected"),
                        selectedItem.scrollIntoView({
                            block: "nearest",
                            behavior: "smooth",
                        });
                }
            }
            handleKeyNavigation(event) {
                const items = this.panelContent.querySelectorAll(".panel-item");
                if (0 !== items.length) {
                    if ("ArrowDown" === event.key)
                        event.preventDefault(),
                            -1 === this.selectedItemIndex
                                ? (this.selectedItemIndex = 0)
                                : (this.selectedItemIndex = Math.min(
                                    this.selectedItemIndex + 1,
                                    items.length - 1,
                                )),
                            this.updateSelectedItem();
                    else if ("ArrowUp" === event.key)
                        event.preventDefault(),
                            -1 === this.selectedItemIndex
                                ? (this.selectedItemIndex = 0)
                                : (this.selectedItemIndex = Math.max(
                                    this.selectedItemIndex - 1,
                                    0,
                                )),
                            this.updateSelectedItem();
                    else if ("Enter" === event.key && this.selectedItemIndex >= 0) {
                        event.preventDefault();
                        items[this.selectedItemIndex].click();
                    }
                }
            }
            updateViewport() {
                this.updateViewportTimeout &&
                clearTimeout(this.updateViewportTimeout),
                    (this.updateViewportTimeout = setTimeout(() => {
                        const rect = this.content.getBoundingClientRect(),
                            width = Math.round(rect.width),
                            height = Math.round(rect.height);
                        (width === this.lastWidth && height === this.lastHeight) ||
                        ((this.lastWidth = width),
                            (this.lastHeight = height),
                            (this.viewport.textContent = `${width} Ã— ${height}`)),
                            (this.updateViewportTimeout = null);
                    }, 5));
            }
            renderComponentInCanvas(component) {
                component
                    ? ((this.canvas.innerHTML = component.content),
                        (this.canvas.className = "canvas"),
                        this.canvas.classList.add(
                            "Flexipage" === component.type ? "flexipage" : "component",
                        ))
                    : ((this.canvas.innerHTML =
                        '<a href="#" class="canvas-link">Select a component...</a>'),
                        (this.canvas.className = "canvas")),
                    setTimeout(() => this.updateViewport(), 100);
            }
            updatePanelTitle(title) {
                this.panelTitle.textContent = title || "Components";
            }
        }
    </script>
    <style rel="stylesheet" crossorigin>
        /* Light Theme */
        .lwr-preview {
            --color-text: #181818;
            --color-link: #0250d9;
            --color-link-hover: #03234d;

            --color-shade-1: #ffffff;
            --color-shade-2: #fbfbfb;
            --color-shade-3: #f3f3f3;
            --color-shade-4: #e5e5e5;
            --color-shade-5: #c9c9c9;
            --color-shade-6: #999999;
            --color-shade-7: #747474;

            --color-purple: #5867e8;
            --color-green: #3ba755;

            --color-focus: rgba(0, 119, 204, 0.5);
            --color-shadow: rgba(0, 0, 0, 0.1);
            --color-overlay: rgba(0, 0, 0, 0.25);

            --font-body: system-ui, sans-serif;
            --font-code: monospace, sans-serif;
        }

        .lwr-preview > .hidden {
            display: none;
        }

        .lwr-preview {
            font-family: var(--font-body);
            background-color: var(--color-shade-1);
            margin: 0;
            transition: color 1s ease;
        }

        /* Header */
        .lwr-preview > .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 0 0 20px;
            margin: 0;
            background-color: var(--color-shade-1);
            border-bottom: 1px solid var(--color-shade-4);
        }

        .lwr-preview > .header > h1.logo {
            background-position: left center;
            background-repeat: no-repeat;
            background-size: 35px 24px;
            color: var(--color-text);
            font-size: 16px;
            font-weight: normal;
            margin: 0;
            padding: 20px 20px 20px 36px;
        }

        .lwr-preview > .header > .toolbar {
            display: flex;
            gap: 0;
            font-size: 13px;
        }

        .lwr-preview > .header > .toolbar > ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .lwr-preview > .header > .toolbar > ul > li {
            display: flex;
            align-items: center;
            margin: 0;
            padding: 0;
            border-right: 1px solid var(--color-shade-5);
        }

        .lwr-preview > .header > .toolbar > ul > li:last-child {
            border-right: none;
        }

        .lwr-preview > .header > .toolbar > ul > li > a,
        .lwr-preview > .header > .toolbar > ul > li > span {
            display: block;
            padding: 0 15px;
        }

        .lwr-preview > .header > .toolbar > ul > li > .viewport {
            color: var(--color-text);
            width: 90px;
            text-align: right;
            padding: 0 5px;
            margin: 0;
        }

        .lwr-preview > .header > .toolbar > ul > li > .px {
            color: var(--color-shade-7);
            padding: 0 10px 0 0;
            margin: 0;
        }

        .lwr-preview > .header > .toolbar > ul > li > [class*="-link"] {
            background-color: var(--color-shade-2);
            text-indent: -9999px;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0 5px;
            padding: 0 5px;
        }

        .lwr-preview > .header > .toolbar > ul > li > .mobile-link {
            width: 12px;
            height: 16px;
        }

        .lwr-preview > .header > .toolbar > ul > li > .tablet-link {
            width: 12px;
            height: 18px;
        }

        .lwr-preview > .header > .toolbar > ul > li > .desktop-link {
            width: 18px;
            height: 18px;
            margin-right: 10px;
        }

        .lwr-preview > .header > .menu {
            display: flex;
            align-items: stretch;
            height: 100%;
        }

        .lwr-preview > .header > .menu > a {
            background-repeat: no-repeat;
            background-position: center;
            background-size: 16px 12px;
            text-indent: -9999px;
            display: flex;
            align-items: center;
            padding: 0;
            width: 60px;
            height: 60px;
        }

        /* Page */
        .lwr-preview > .page {
            background-color: var(--color-shade-1);
            width: 100%;
            min-width: 680px;
            min-height: 100vh;
        }

        .lwr-preview > .page > a {
            color: var(--color-link);
            text-decoration: none;
        }

        .lwr-preview > .page > a:hover {
            text-decoration: underline;
            color: var(--color-link-hover);
        }

        .lwr-preview > .main {
            align-items: center;
            background-color: var(--color-shade-2);
            display: flex;
            justify-content: center;
            min-height: calc(100vh - 61px);
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .lwr-preview > .main > .content {
            background-color: var(--color-shade-1);
            overflow: visible;
            position: relative;
            transform: translateZ(0);
            transition:
                    width 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                    height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: width, height;
            display: flex;
            flex-direction: column;
        }

        .lwr-preview > .main > .content.active {
            border: 1px solid var(--color-shade-4);
            border-radius: 8px;
            transition: none;
        }

        .lwr-preview > .main > .content:not([style*="width: 100%"]) {
            border: 1px solid var(--color-shade-4);
            border-radius: 8px;
        }

        /* Fullscreen mode specific styles */
        .lwr-preview > .main > .content[style*="width: 100%"] {
            max-height: calc(100vh - 61px);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        /* Handles */
        .lwr-preview > .main > .content > .handles {
            position: absolute;
            inset: 0;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            will-change: opacity;
            z-index: 10;
        }

        .lwr-preview > .main:hover > .content > .handles {
            opacity: 1;
        }

        .lwr-preview > .main:not(:hover) > .content > .handles {
            opacity: 0 !important;
        }

        .lwr-preview > .main > .content > .handles > .handle-left,
        .lwr-preview > .main > .content > .handles > .handle-right,
        .lwr-preview > .main > .content > .handles > .handle-bottom {
            position: absolute;
            background-color: var(--color-shade-5);
            border-radius: 9999px;
            pointer-events: auto;
            transition: background-color 0.2s ease;
            will-change: transform, background-color;
            backface-visibility: hidden;
        }

        .lwr-preview > .main > .content > .handles > .handle-left,
        .lwr-preview > .main > .content > .handles > .handle-right {
            top: 50%;
            transform: translateY(-50%);
            width: 6px;
            height: 60px;
            cursor: ew-resize;
        }

        .lwr-preview > .main > .content > .handles > .handle-left {
            left: -12px;
        }

        .lwr-preview > .main > .content > .handles > .handle-right {
            right: -12px;
        }

        .lwr-preview > .main > .content > .handles > .handle-bottom {
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            height: 6px;
            width: 60px;
            cursor: ns-resize;
        }

        .lwr-preview > .main > .content[style*="width: 100%"] > .handles > .handle-left {
            left: 6px;
        }

        .lwr-preview > .main > .content[style*="width: 100%"] > .handles > .handle-right {
            right: 6px;
        }

        .lwr-preview > .main > .content[style*="width: 100%"] > .handles > .handle-bottom {
            bottom: 6px;
        }

        .lwr-preview > .main > .content > .handles > .handle-left:hover,
        .lwr-preview > .main > .content > .handles > .handle-right:hover,
        .lwr-preview > .main > .content > .handles > .handle-bottom:hover,
        .lwr-preview > .main > .content > .handles > .handle-left.active,
        .lwr-preview > .main > .content > .handles > .handle-right.active,
        .lwr-preview > .main > .content > .handles > .handle-bottom.active {
            background-color: var(--color-shade-6);
        }

        .lwr-preview > .main > .content > .handles > .handle-near-edge {
            background-color: var(--color-shade-5) !important;
        }

        .lwr-preview > .main > .content.edge-detected {
            border-color: var(--color-shade-5) !important;
        }

        /* Canvas */
        .lwr-preview > .main > .content > .canvas {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            min-height: inherit;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
        }

        .lwr-preview > .main > .content:not([style*="width: 100%"]) > .canvas {
            border-radius: 7px;
        }

        .lwr-preview > .main > .content > .canvas > .component-wrapper {
            display: flex;
            flex-direction: column;
            width: 100%;
            max-height: calc(100vh - 70px);
            overflow: auto;
            padding: 10px;
        }

        .lwr-preview > .main > .content[style*="width: 100%"] > .canvas {
            max-height: calc(100vh - 61px);
        }

        .lwr-preview > .main > .content > .canvas.flexipage {
            align-items: flex-start;
        }

        .lwr-preview > .main > .content > .canvas > .canvas-link {
            display: block;
            text-align: center;
            font-size: 13px;
            border: 1px solid var(--color-shade-6);
            padding: 10px 20px;
            border-radius: 9999px;
            background-color: var(--color-shade-1);
        }

        .lwr-preview > .main > .content > .canvas > .canvas-link:hover {
            text-decoration: none;
        }

        /* Panel */
        .lwr-preview > .overlay {
            position: fixed;
            inset: 0;
            background-color: var(--color-overlay);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition:
                    opacity 0.1s ease-in,
                    visibility 0.1s ease-in;
        }

        .lwr-preview > .overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .lwr-preview > .overlay > .panel {
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100%;
            background-color: var(--color-shade-1);
            border-left: 1px solid var(--color-shade-5);
            box-shadow: -2px 0 5px var(--color-shadow);
            transition: all 0.3s ease;
        }

        .lwr-preview > .overlay > .panel.visible {
            right: 0;
        }

        .lwr-preview > .overlay > .panel > .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 0 0 15px;
            color: var(--color-text);
            background-color: var(--color-shade-2);
            border-bottom: 1px solid var(--color-shade-4);
        }

        .lwr-preview > .overlay > .panel > .panel-header > h3 {
            margin: 0;
            font-size: 15px;
            font-weight: normal;
        }

        .lwr-preview > .overlay > .panel > .panel-header > a {
            display: block;
            width: 60px;
            height: 60px;
            background-repeat: no-repeat;
            background-position: center;
            background-size: 14px 14px;
        }

        .lwr-preview > .overlay > .panel > .panel-filter {
            margin: 15px;
        }

        .lwr-preview > .overlay > .panel > .panel-filter > input {
            appearance: none;
            background-color: var(--color-shade-1);
            background-position: left 10px top 50%;
            background-repeat: no-repeat;
            background-size: 16px auto;
            border-radius: 8px;
            border: 1px solid var(--color-shade-7);
            color: var(--color-text);
            font-size: 13px;
            padding: 6px 6px 6px 34px;
            transition: all 0.1s ease;
            width: 330px;
        }

        .lwr-preview > .overlay > .panel > .panel-filter > input::placeholder {
            color: var(--color-shade-7);
        }

        .lwr-preview > .overlay > .panel > .panel-filter > input:hover {
            border-color: var(--color-text);
        }

        .lwr-preview > .overlay > .panel > .panel-filter > input:focus {
            outline: none;
            border-color: var(--color-link);
            box-shadow: 0 0 0 2px var(--color-focus);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item {
            display: flex;
            padding: 10px 15px;
            margin: 0;
            cursor: pointer;
            transition: background-color 0.1s ease;
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item:hover {
            background-color: var(--color-shade-3);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item.selected {
            background-color: var(--color-shade-3);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .panel-item-icon {
            width: 30px;
            height: 30px;
            background-repeat: no-repeat;
            background-position: center;
            background-size: 20px 20px;
            border-radius: 6px;
            margin-right: 10px;
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .component {
            background-color: var(--color-purple);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .flexipage {
            background-color: var(--color-green);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .panel-item-content {
            flex: 1;
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .panel-item-content > h4 {
            font-weight: normal;
            font-size: 13px;
            margin: 0 0 2px 0;
            color: var(--color-text);
        }

        .lwr-preview > .overlay > .panel > .panel-content > .panel-list > .panel-item > .panel-item-content > p {
            font-size: 12px;
            margin: 0;
            color: var(--color-shade-7);
        }

        /* Images */
        .lwr-preview .header h1.logo {
            background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjI4MzEgNy4zOTk0QzEzLjg5MjUgNi43Njk3MyAxNC42NDQ1IDYuMjkwNiAxNS40Nzc5IDYuMDAxMDRDMTYuMzExMiA1LjcxMTQ5IDE3LjIwMjIgNS42MTk3IDE4LjA3ODQgNS43MzMxM0MxOC45NTQ2IDUuODQ2NTcgMTkuNzkxMiA2LjE2MjAzIDIwLjUyIDYuNjUzODNDMjEuMjQ4OSA3LjE0NTYzIDIxLjg0OTMgNy43OTk4NSAyMi4yNzI1IDguNTYzMjJDMjMuMTQ4MSA4LjE3OTUxIDI0LjA5NiA3Ljk4MTI1IDI1LjA1NDUgNy45ODEzMUMyNi44OTY2IDcuOTgxMzEgMjguNjYzMiA4LjcwMTMyIDI5Ljk2NTggOS45ODI5M0MzMS4yNjgzIDExLjI2NDUgMzIgMTMuMDAyOCAzMiAxNC44MTUzQzMyIDE2LjYyNzcgMzEuMjY4MyAxOC4zNjYgMjkuOTY1OCAxOS42NDc2QzI4LjY2MzIgMjAuOTI5MiAyNi44OTY2IDIxLjY0OTIgMjUuMDU0NSAyMS42NDkyQzI0LjYgMjEuNjQ5NSAyNC4xNDY2IDIxLjYwNDMgMjMuNzAxNCAyMS41MTQyQzIzLjI2NDggMjIuMjg0IDIyLjYyNzIgMjIuOTI1IDIxLjg1NDQgMjMuMzcxQzIxLjA4MTcgMjMuODE3MSAyMC4yMDE5IDI0LjA1MTkgMTkuMzA2IDI0LjA1MTNDMTguNTQzNSAyNC4wNTM4IDE3Ljc5MDYgMjMuODgzMyAxNy4xMDU5IDIzLjU1MzJDMTYuNjU3MiAyNC41OTY3IDE1Ljg5OTkgMjUuNDgzMyAxNC45MzI0IDI2LjA5NzdDMTMuOTY0OCAyNi43MTIxIDEyLjgzMTggMjcuMDI1OSAxMS42ODA1IDI2Ljk5ODNDMTAuNTI5MyAyNi45NzA3IDkuNDEzMTQgMjYuNjAzIDguNDc3MTQgMjUuOTQyOUM3LjU0MTE1IDI1LjI4MjggNi44Mjg2IDI0LjM2MSA2LjQzMjE2IDIzLjI5NzJDNi4wNzEyNSAyMy4zNzIxIDUuNzAzMzIgMjMuNDA5NSA1LjMzNDQ2IDIzLjQwODlDNC4xNTQ4NSAyMy4zOTYyIDMuMDEyMDUgMjMuMDAzMyAyLjA4MTA3IDIyLjI5MDRDMS4xNTAwOSAyMS41Nzc1IDAuNDgyMzE5IDIwLjU4MzkgMC4xODAwNjMgMTkuNDYyQy0wLjEyMjE5NCAxOC4zNCAtMC4wNDIzMDg3IDE3LjE1MTQgMC40MDc1NTkgMTYuMDc4NEMwLjg1NzQyOCAxNS4wMDU0IDEuNjUyNDIgMTQuMTA3MSAyLjY3MDc1IDEzLjUyMTFDMi4zMzIyOSAxMi43NTU5IDIuMTU4MzQgMTEuOTMwMiAyLjE1OTc5IDExLjA5NTdDMi4xNjEzNiA5LjgxOTg4IDIuNTY5MjMgOC41NzY2MSAzLjMyNjA5IDcuNTQwNjlDNC4wODI5NSA2LjUwNDc3IDUuMTUwNzIgNS43MjgyNyA2LjM3OTMxIDUuMzIwMzVDNy42MDc5IDQuOTEyNDQgOC45MzU1MiA0Ljg5MzYyIDEwLjE3NTUgNS4yNjY1NEMxMS40MTU2IDUuNjM5NDYgMTIuNTA1NiA2LjM4NTM2IDEzLjI5MjUgNy4zOTk0SDEzLjI4MzFaIiBmaWxsPSIjMEQ5RERBIi8+Cjwvc3ZnPgo=");
        }

        .lwr-preview .toolbar select {
            background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEuNTk2MzIgMTIuNjkyNEg4LjQwNDAxQzguNTk2MzEgMTIuNjkyNCA4LjczMDkzIDEyLjk0MjQgOC41NzcwOCAxMy4xMTU1TDUuMjUwMTYgMTcuMTkyNEM1LjEzNDc4IDE3LjM0NjIgNC44ODQ3OCAxNy4zNDYyIDQuNzY5MzkgMTcuMTkyNEwxLjQwNDAxIDEzLjExNTVDMS4yNjkzOSAxMi45NDI0IDEuMzg0NzggMTIuNjkyNCAxLjU5NjMyIDEyLjY5MjRaIiBmaWxsPSIjNzQ3NDc0Ii8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjQwMzY4IDcuMzA3NjJMMS41OTU5OSA3LjMwNzYyQzEuNDAzNjggNy4zMDc2MiAxLjI2OTA3IDcuMDU3NjIgMS40MjI5MiA2Ljg4NDU0TDQuNzQ5ODQgMi44MDc2MkM0Ljg2NTIyIDIuNjUzNzcgNS4xMTUyMiAyLjY1Mzc3IDUuMjMwNjEgMi44MDc2Mkw4LjU5NTk5IDYuODg0NTRDOC43MzA2MSA3LjA1NzYyIDguNjE1MjIgNy4zMDc2MiA4LjQwMzY4IDcuMzA3NjJaIiBmaWxsPSIjNzQ3NDc0Ii8+PC9zdmc+");
        }

        .lwr-preview .toolbar a.mobile-link {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2024%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M16%201.84615C16%200.830769%2015.1529%200%2014.1176%200H1.88235C0.847059%200%200%200.830769%200%201.84615V22.1538C0%2023.1692%200.847059%2024%201.88235%2024H14.1176C15.1529%2024%2016%2023.1692%2016%2022.1538V1.84615ZM8.00002%2023.0778C7.20002%2023.0778%206.58826%2022.4778%206.58826%2021.6932C6.58826%2020.9086%207.20002%2020.3086%208.00002%2020.3086C8.80002%2020.3086%209.41179%2020.9086%209.41179%2021.6932C9.41179%2022.4778%208.80002%2023.0778%208.00002%2023.0778ZM13.1765%2018.6914C13.1765%2019.0606%2012.8471%2019.3837%2012.4707%2019.3837H3.52949C3.15302%2019.3837%202.82361%2019.0606%202.82361%2018.6914V4.38368C2.82361%204.01445%203.15302%203.69138%203.52949%203.69138H12.4707C12.8471%203.69138%2013.1765%204.01445%2013.1765%204.38368V18.6914Z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .toolbar a.mobile-link.active {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2024%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M16%201.84615C16%200.830769%2015.1529%200%2014.1176%200H1.88235C0.847059%200%200%200.830769%200%201.84615V22.1538C0%2023.1692%200.847059%2024%201.88235%2024H14.1176C15.1529%2024%2016%2023.1692%2016%2022.1538V1.84615ZM8.00002%2023.0778C7.20002%2023.0778%206.58826%2022.4778%206.58826%2021.6932C6.58826%2020.9086%207.20002%2020.3086%208.00002%2020.3086C8.80002%2020.3086%209.41179%2020.9086%209.41179%2021.6932C9.41179%2022.4778%208.80002%2023.0778%208.00002%2023.0778ZM13.1765%2018.6914C13.1765%2019.0606%2012.8471%2019.3837%2012.4707%2019.3837H3.52949C3.15302%2019.3837%202.82361%2019.0606%202.82361%2018.6914V4.38368C2.82361%204.01445%203.15302%203.69138%203.52949%203.69138H12.4707C12.8471%203.69138%2013.1765%204.01445%2013.1765%204.38368V18.6914Z%22%20fill%3D%22%230250d9%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .toolbar a.tablet-link {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M20%202.16667C20%200.975%2019.1%200%2018%200H2C0.9%200%200%200.975%200%202.16667V23.8333C0%2025.025%200.9%2026%202%2026H18C19.1%2026%2020%2025.025%2020%2023.8333V2.16667ZM17%2022.0625C17%2022.5625%2016.65%2023%2016.25%2023H3.75C3.35%2023%203%2022.5625%203%2022.0625V3.9375C3%203.4375%203.35%203%203.75%203H16.25C16.65%203%2017%203.4375%2017%203.9375V22.0625Z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .toolbar a.tablet-link.active {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M20%202.16667C20%200.975%2019.1%200%2018%200H2C0.9%200%200%200.975%200%202.16667V23.8333C0%2025.025%200.9%2026%202%2026H18C19.1%2026%2020%2025.025%2020%2023.8333V2.16667ZM17%2022.0625C17%2022.5625%2016.65%2023%2016.25%2023H3.75C3.35%2023%203%2022.5625%203%2022.0625V3.9375C3%203.4375%203.35%203%203.75%203H16.25C16.65%203%2017%203.4375%2017%203.9375V22.0625Z%22%20fill%3D%22%230250d9%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .toolbar a.desktop-link {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2026%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M26%202.16666C26%200.974995%2025.025%200%2023.8333%200H2.16667C0.975%200%200%200.974995%200%202.16666V16.2499C0%2017.4416%200.975%2018.4166%202.16667%2018.4166H23.8333C25.025%2018.4166%2026%2017.4416%2026%2016.2499V2.16666ZM22.7501%2014.3541C22.7501%2014.7874%2022.3709%2015.1665%2021.9376%2015.1665H4.06261C3.62928%2015.1665%203.25011%2014.7874%203.25011%2014.3541V4.06244C3.25011%203.62911%203.62928%203.24994%204.06261%203.24994H21.9376C22.3709%203.24994%2022.7501%203.62911%2022.7501%204.06244V14.3541ZM16.7766%2022.4H15.1402C14.8129%2022.4%2014.5947%2022.16%2014.5947%2021.8V20.6C14.5947%2020.24%2014.3766%2020%2014.0493%2020H11.8675C11.5402%2020%2011.322%2020.24%2011.322%2020.6V21.8C11.322%2022.16%2011.1038%2022.4%2010.7766%2022.4H9.14019C7.94019%2022.4%206.95837%2023.48%206.95837%2024.8V25.1C6.95837%2025.58%207.34019%2026%207.77656%2026H18.1402C18.5766%2026%2018.9584%2025.58%2018.9584%2025.1V24.8C18.9584%2023.48%2017.9766%2022.4%2016.7766%2022.4Z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .toolbar a.desktop-link.active {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2026%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M26%202.16666C26%200.974995%2025.025%200%2023.8333%200H2.16667C0.975%200%200%200.974995%200%202.16666V16.2499C0%2017.4416%200.975%2018.4166%202.16667%2018.4166H23.8333C25.025%2018.4166%2026%2017.4416%2026%2016.2499V2.16666ZM22.7501%2014.3541C22.7501%2014.7874%2022.3709%2015.1665%2021.9376%2015.1665H4.06261C3.62928%2015.1665%203.25011%2014.7874%203.25011%2014.3541V4.06244C3.25011%203.62911%203.62928%203.24994%204.06261%203.24994H21.9376C22.3709%203.24994%2022.7501%203.62911%2022.7501%204.06244V14.3541ZM16.7766%2022.4H15.1402C14.8129%2022.4%2014.5947%2022.16%2014.5947%2021.8V20.6C14.5947%2020.24%2014.3766%2020%2014.0493%2020H11.8675C11.5402%2020%2011.322%2020.24%2011.322%2020.6V21.8C11.322%2022.16%2011.1038%2022.4%2010.7766%2022.4H9.14019C7.94019%2022.4%206.95837%2023.48%206.95837%2024.8V25.1C6.95837%2025.58%207.34019%2026%207.77656%2026H18.1402C18.5766%2026%2018.9584%2025.58%2018.9584%2025.1V24.8C18.9584%2023.48%2017.9766%2022.4%2016.7766%2022.4Z%22%20fill%3D%22%230250d9%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .menu a {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M15.4545%201.99992H0.545455C0.254545%201.99992%200%201.7666%200%201.49994V0.49998C0%200.233324%200.254545%200%200.545455%200H15.4545C15.7455%200%2016%200.233324%2016%200.49998V1.49994C16%201.7666%2015.7455%201.99992%2015.4545%201.99992ZM15.4545%206.9661H0.545455C0.254545%206.9661%200%206.73278%200%206.46612V5.46616C0%205.23284%200.254545%204.99951%200.545455%204.99951H15.4545C15.7455%204.99951%2016%205.23284%2016%205.49949V6.49945C16%206.73278%2015.7455%206.9661%2015.4545%206.9661ZM15.4545%2012H0.545455C0.254545%2012%200%2011.7667%200%2011.5001V10.5001C0%2010.2334%200.254545%2010.0001%200.545455%2010.0001H15.4545C15.7455%2010.0001%2016%2010.2334%2016%2010.5001V11.5001C16%2011.7667%2015.7455%2012%2015.4545%2012Z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .panel-header a {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2012%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M7.53863%205.81555L11.5386%201.78478C11.7232%201.60017%2011.7232%201.32324%2011.5386%201.13863L10.9232%200.492473C10.7386%200.307858%2010.4617%200.307858%2010.2771%200.492473L6.24632%204.52324C6.12324%204.64632%205.93863%204.64632%205.81555%204.52324L1.78478%200.461704C1.60017%200.277088%201.32324%200.277088%201.13863%200.461704L0.492473%201.10786C0.307858%201.29247%200.307858%201.5694%200.492473%201.75401L4.52324%205.78478C4.64632%205.90786%204.64632%206.09247%204.52324%206.21555L0.461704%2010.2771C0.277088%2010.4617%200.277088%2010.7386%200.492473%2010.9232L1.10786%2011.5694C1.29247%2011.754%201.5694%2011.754%201.75401%2011.5694L5.78478%207.53863C5.90786%207.41555%206.09247%207.41555%206.21555%207.53863L10.2463%2011.5694C10.4309%2011.754%2010.7079%2011.754%2010.8925%2011.5694L11.5386%2010.9232C11.7232%2010.7386%2011.7232%2010.4617%2011.5386%2010.2771L7.53863%206.24632C7.41555%206.12324%207.41555%205.93863%207.53863%205.81555Z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .panel-filter input {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M15.26%2013.94l-4.12-4.1a6.43%206.43%200%20001.05-4.23c-.37-2.65-2.52-4.75-5.19-5A6.43%206.43%200%2000.67%207c.25%202.65%202.34%204.84%204.98%205.21a6.43%206.43%200%20004.21-1.05l4.08%204.11c.18.19.46.19.65%200l.64-.65c.18-.18.18-.49.03-.67zM2.49%206.41a3.96%203.96%200%20117.92%200%203.96%203.96%200%2001-7.92%200z%22%20fill%3D%22%23747474%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .panel-item .component {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2015%2015%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M5.688%200H0.936C0.689673%200.0060849%200.455117%200.106652%200.280885%200.280885C0.106652%200.455117%200.0060849%200.689673%200%200.936V5.688C0.0060849%205.93433%200.106652%206.16888%200.280885%206.34312C0.455117%206.51735%200.689673%206.61792%200.936%206.624H5.688C5.93433%206.61792%206.16888%206.51735%206.34312%206.34312C6.51735%206.16888%206.61792%205.93433%206.624%205.688V0.936C6.61792%200.689673%206.51735%200.455117%206.34312%200.280885C6.16888%200.106652%205.93433%200.0060849%205.688%200ZM13.464%200H8.712C8.46567%200.0060849%208.23112%200.106652%208.05689%200.280885C7.88265%200.455117%207.78208%200.689673%207.776%200.936V5.688C7.78208%205.93433%207.88265%206.16888%208.05689%206.34312C8.23112%206.51735%208.46567%206.61792%208.712%206.624H13.464C13.7103%206.61792%2013.9449%206.51735%2014.1191%206.34312C14.2933%206.16888%2014.3939%205.93433%2014.4%205.688V0.936C14.3939%200.689673%2014.2933%200.455117%2014.1191%200.280885C13.9449%200.106652%2013.7103%200.0060849%2013.464%200ZM5.688%207.776H0.936C0.689673%207.78208%200.455117%207.88265%200.280885%208.05689C0.106652%208.23112%200.0060849%208.46567%200%208.712V13.464C0.0060849%2013.7103%200.106652%2013.9449%200.280885%2014.1191C0.455117%2014.2933%200.689673%2014.3939%200.936%2014.4H5.688C5.93433%2014.3939%206.16888%2014.2933%206.34312%2014.1191C6.51735%2013.9449%206.61792%2013.7103%206.624%2013.464V8.712C6.61792%208.46567%206.51735%208.23112%206.34312%208.05689C6.16888%207.88265%205.93433%207.78208%205.688%207.776ZM13.464%207.776H8.712C8.46567%207.78208%208.23112%207.88265%208.05689%208.05689C7.88265%208.23112%207.78208%208.46567%207.776%208.712V13.464C7.78208%2013.7103%207.88265%2013.9449%208.05689%2014.1191C8.23112%2014.2933%208.46567%2014.3939%208.712%2014.4H13.464C13.7103%2014.3939%2013.9449%2014.2933%2014.1191%2014.1191C14.2933%2013.9449%2014.3939%2013.7103%2014.4%2013.464V8.712C14.3939%208.46567%2014.2933%208.23112%2014.1191%208.05689C13.9449%207.88265%2013.7103%207.78208%2013.464%207.776Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E");
        }

        .lwr-preview .panel-item .flexipage {
            background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2015%2014%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M2.856%203.912H0.456C0.216%203.912%200%204.128%200%204.368V12.024C0%2012.696%200.528%2013.224%201.2%2013.224H2.856C3.096%2013.224%203.312%2013.008%203.312%2012.768V4.368C3.312%204.104%203.096%203.912%202.856%203.912ZM13.944%203.912H4.944C4.704%203.912%204.488%204.128%204.488%204.368V12.768C4.488%2013.008%204.704%2013.224%204.944%2013.224H13.2C13.872%2013.224%2014.4%2012.696%2014.4%2012.024V4.344C14.4%204.104%2014.184%203.912%2013.944%203.912ZM13.2%200H1.2C0.528%200%200%200.528%200%201.2V2.256C0%202.496%200.216%202.712%200.456%202.712H13.944C14.184%202.712%2014.4%202.496%2014.4%202.256V1.2C14.4%200.552%2013.872%200%2013.2%200Z%22%20fill%3D%22white%22%2F%3E%3C%2Fsvg%3E");
        }

        /* Dark Theme */
        @media (prefers-color-scheme: dark) {
            .lwr-preview {
                --color-text: #bbbbbb;
                --color-link: #0099ee;
                --color-link-hover: #55bbee;

                --color-shade-1: #0a0a0a;
                --color-shade-2: #161616;
                --color-shade-3: #202020;
                --color-shade-4: #2e2e2e;
                --color-shade-5: #424242;
                --color-shade-6: #666666;
                --color-shade-7: #969696;

                --color-focus: rgba(0, 119, 204, 0.5);
                --color-shadow: rgba(0, 0, 0, 0.5);
                --color-overlay: rgba(0, 0, 0, 0.6);
            }

            .lwr-preview .toolbar a.mobile-link.active {
                background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2016%2024%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M16%201.84615C16%200.830769%2015.1529%200%2014.1176%200H1.88235C0.847059%200%200%200.830769%200%201.84615V22.1538C0%2023.1692%200.847059%2024%201.88235%2024H14.1176C15.1529%2024%2016%2023.1692%2016%2022.1538V1.84615ZM8.00002%2023.0778C7.20002%2023.0778%206.58826%2022.4778%206.58826%2021.6932C6.58826%2020.9086%207.20002%2020.3086%208.00002%2020.3086C8.80002%2020.3086%209.41179%2020.9086%209.41179%2021.6932C9.41179%2022.4778%208.80002%2023.0778%208.00002%2023.0778ZM13.1765%2018.6914C13.1765%2019.0606%2012.8471%2019.3837%2012.4707%2019.3837H3.52949C3.15302%2019.3837%202.82361%2019.0606%202.82361%2018.6914V4.38368C2.82361%204.01445%203.15302%203.69138%203.52949%203.69138H12.4707C12.8471%203.69138%2013.1765%204.01445%2013.1765%204.38368V18.6914Z%22%20fill%3D%22%230099ee%22%2F%3E%3C%2Fsvg%3E");
            }

            .lwr-preview .toolbar a.tablet-link.active {
                background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M20%202.16667C20%200.975%2019.1%200%2018%200H2C0.9%200%200%200.975%200%202.16667V23.8333C0%2025.025%200.9%2026%202%2026H18C19.1%2026%2020%2025.025%2020%2023.8333V2.16667ZM17%2022.0625C17%2022.5625%2016.65%2023%2016.25%2023H3.75C3.35%2023%203%2022.5625%203%2022.0625V3.9375C3%203.4375%203.35%203%203.75%203H16.25C16.65%203%2017%203.4375%2017%203.9375V22.0625Z%22%20fill%3D%22%230099ee%22%2F%3E%3C%2Fsvg%3E");
            }

            .lwr-preview .toolbar a.desktop-link.active {
                background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2026%2026%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M26%202.16666C26%200.974995%2025.025%200%2023.8333%200H2.16667C0.975%200%200%200.974995%200%202.16666V16.2499C0%2017.4416%200.975%2018.4166%202.16667%2018.4166H23.8333C25.025%2018.4166%2026%2017.4416%2026%2016.2499V2.16666ZM22.7501%2014.3541C22.7501%2014.7874%2022.3709%2015.1665%2021.9376%2015.1665H4.06261C3.62928%2015.1665%203.25011%2014.7874%203.25011%2014.3541V4.06244C3.25011%203.62911%203.62928%203.24994%204.06261%203.24994H21.9376C22.3709%203.24994%2022.7501%203.62911%2022.7501%204.06244V14.3541ZM16.7766%2022.4H15.1402C14.8129%2022.4%2014.5947%2022.16%2014.5947%2021.8V20.6C14.5947%2020.24%2014.3766%2020%2014.0493%2020H11.8675C11.5402%2020%2011.322%2020.24%2011.322%2020.6V21.8C11.322%2022.16%2011.1038%2022.4%2010.7766%2022.4H9.14019C7.94019%2022.4%206.95837%2023.48%206.95837%2024.8V25.1C6.95837%2025.58%207.34019%2026%207.77656%2026H18.1402C18.5766%2026%2018.9584%2025.58%2018.9584%2025.1V24.8C18.9584%2023.48%2017.9766%2022.4%2016.7766%2022.4Z%22%20fill%3D%22%230099ee%22%2F%3E%3C%2Fsvg%3E");
            }
        }
    </style>
</head>
<body>
<div class="lwr-preview">
    <div class="overlay">
        <div class="panel" role="dialog">
            <div class="panel-header">
                <h3>Project Components</h3>
                <a href="#" class="panel-close"></a>
            </div>
            <div class="panel-filter">
                <input
                        type="text"
                        placeholder="Filter components"
                        aria-label="Filter components"
                />
            </div>
            <div class="panel-content"></div>
        </div>
    </div>

    <header class="header">
        <h1 class="logo">Salesforce</h1>
        <div class="toolbar">
            <ul>
                <li>
                    <span class="viewport"></span>
                    <span class="px">px</span>
                    <a href="#" class="mobile-link">Mobile</a>
                    <a href="#" class="tablet-link">Tablet</a>
                    <a href="#" class="desktop-link">Desktop</a>
                </li>
                <li>
                    <a href="/performance/{{ previewComponent }}">Performance</a>
                </li>
                <li>
                    <a
                            href="https://developer.salesforce.com/docs/platform/lwc/guide/get-started-test-components.html"
                    >Developer Docs</a
                    >
                </li>
            </ul>
        </div>
        <div class="menu">
            <a href="#">Menu</a>
        </div>
    </header>

    <main class="main">
        <div class="content" role="main">
            <div class="handles">
                <div class="handle-left"></div>
                <div class="handle-bottom"></div>
                <div class="handle-right"></div>
            </div>

            <div class="canvas">
                {% if not previewComponent or not previewComponent.trim() %}
                <a href="#" class="canvas-link">Select a component...</a>
                {% else %}
                {{ body | safe }}
                {% endif %}
            </div>
        </div>
    </main>
</div>

{{ lwr_resources | safe }}

</body>
</html>